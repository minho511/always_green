https://wikidocs.net/134909
2026-1-15
****
이터레이터(iterator): next() 함수 호출 시 계속 그 다음 값을 반환하는 객체.

- 리스트는 반복 가능하지만 이터레이터가 아님.
	```
>>> a = [1, 2, 3]
>>> next(a)
Traceback (most recent call last): 
	File "<stdin>", line 1, in <module>
TypeError: 'list' object is not an iterator
	```
- iter() 함수로 이터레이터로 만들 수 있음.
```
>>> a = [1,2,3]
>>> ia = iter(a)
>>> type(ia)
<class 'list_iterator'>
```
```
>>> next(ia)
1
>>> next(ia)
2
>>> next(ia)
3
>>> next(ia)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
StopIteration
```
- 더 반환할 값이 없다면 `StopIteration` 예외 발생
- next() 로 그 값을 한 번 읽으면 다시 읽을 수 없음
- for 문을 이용하여 반복하고 나면 다시 사용하더라도 그 값을 가져오지 못함.


## 이터레이터 구현

`__iter__` , `__next__` 두 개의 메서드로 구현할 수 있음.

```python
class MyItertor:
	def __init__(self, data):
		self.data = data
		self.position = 0
		
	def __iter__(self):
		return self
	
	def __next__(self):
		if self.position >= len(self.data):
			raise StopIteration
		result = self.data[self.position]
		self.position += 1
		return result
		
if __name__ == "__main__":
	i = MyIterator([1,2,3])
	for item in i:
		print(item) # 1 2 3 
```
- `__iter__` 메서드는 이터레이터 객체를 반환하는 메서드, MyItertor 클래스에 의해 생성되는 객체를 의미하는 self를 반환.
- `__next__` 메서드는 next() 함수 호출시 실행됨.
